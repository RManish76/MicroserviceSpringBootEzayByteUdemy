*1* Spring cloud project provides a dependency known as spring config server and spring config client.
        spring config server - > stores the details and properties so that other application can fetch
                                    details from here.
        Spring config client - > application which will fetch config details from config server.

        added dependency in configserver project
                -> config server, actuator

*2* Start
    Added @EnableConfigServer  --> saying to spring this project will be storing confgiuration/properties
            and other applications will fetch those details from it.

    There multiple way to store confgiuration details like classpath, file sysem, database, githubrepo etc
    we are going to discuss 3 of them
        1. Class Path storage
        2. Store it in file system in local or server and then we can read from that folder
        3. using github

*3* Added name of server which we want
        in application.yml we need to add spring.application.name="configserver"
        the name can be anything and this is the name we are going to use to for this sever and
        connect to this server.

        Added confgiuration related to accounts, cards, loans in config folder under resources in configserver project

        now added spring.profiles.active=native in application.yml of configserver project
            this tell to spring cloud config servet that to cativate a native profile of spring cloud config
            server, so whenever we are trying to use a classpath to store all our configuration, we need to
            make sure we are activating the native profile.

            Once we define the profile activation details.

            now we need to add spring.cloud.config.server.native.search-locations="classpath/config"
            this mentions the serach location of profiles, using this property only we tell spring cloud
            config server where our properties are stored. And right now our properties are stored inside
            the classpath -> where properties are         config -> folder location of classpath

        now intital setup is done. lets run the configserver applicatiion
        after running we can serach in browser
            GET        localhost:8071/accounts/prod  -> to fetch accounts_prod.yml and accounts.yml properties
            GET        localhost:8071/cards/prod      -> to fetch cards_prod.yml and cards.yml properties
            GET        localhost:8071/accounts/default -> to get only default profile
        
        we got issue as we are getting only default accounts.yml with  link localhost:8071/accounts/prod 
            the issue is file nameing convetion.
            the name should be accounts-prod.yml not accounts_prod.yml similarly for others.

        After correcting the issue we are getting both default and prod profile.
        which is expected and when we activate the other application with prod profile they will pick
        the prod profile and ignore the default one.


*4* spring cloud config clinet
    Now we'll do configuration in accounts, card, loans as config client
        1st in accounts default profile applicatiion.yml we removed all profile details
        only kept applicatiion name as our applicatiion is going to find same name on config server
        then we also mentioned a default profile as prod so that our applicatiion start with prod profile
        by defaule if it able to find prod profile in config server.

    Added config client dependency to pom of accounts microservice.
    and since we are adding configClient we need not add spring cloude version as well and
    dependencyManagement also

    then added spring.config.import="optional:configserver:http://localhost:8071/" in application.yml of accounts microservice
        configserver -> indication to accoutnsMicroservice springboot applicatiion it is going to connect 
                and this configserver in fixed keyword it nothing realted to name which we gave to other microservice
                ConfigServer
        optional: -> if this applicatiion is not able to connect with ConfigServer for any reason it should
                    still start the applicatiion with default confgiuration
                if we have scenario that without configserver it should not start the applicatiion then we can remove it.


    Now setup of accounts microservice as config client completed and as defualt we have
    set the config to look for prod. means whenever we start the applicatiion normally it'll
    start with prod profile.
    and if we want to activete another profile we can run it using command line. like below
        java -jar accoutnsMicroservice.jar --spring.profiles.active=qa


    Now with same process lets update the cards and loan microservice as config clinet

    *2* Now we'll modify the configserver to filetype from classpath(stored with code)
        issue with classpath is that any developer working on configserver will able to see all
        properties which creates security issue as those developer might not be authorised to
        look at properties.

        In file path system we need palce all profile in a folder local/remote and then we'll
        update applicatiion.yml of ConfigServer from classpath to filsystem and give the location
        of that folder.

    *3* After that we moved to repo based
        we put all our config file in a repo then modified the applicatiion.yml of configserver to
        fetch the config files from the repo at start of the application.

    *4* Introducing the encyrption/decytprion
        we can introduce a encyrption key in the applicatiion.yml of configserver.
        After Introducing the encyrption in applicatiion.yml the applicatiion automatically expose a
        rest endpoint which is http://localhost:8071/encrypt for encryption and http://localhost:8071/decrypt for decryption.
        Now we can make a call to http://localhost:8071/encrypt and pass the text in body
        it'll return us the encrypted form of that text as per key.
        And in request if we sent the encrypted (no need of any prefix) text to http://localhost:8071/decrypt then it'll return us the decrypted value

        similarly if our data is encrypted in repo/file and we have configred the key applicatiion.yml
        then when we request that through config server vai any request/application it'll first decrypt that data then return to us.
        here only conditionis that at repo we need to add prefix cipherr like "{cipher} encrypted data" to let configserver
        know that the text which you are reciving is encrypted. if this prefix is not there then it'll treat as normal data.

        for demo: we'll encrypt the email id of accounts_prod user the will try to make request for that
        from http://localhost:8071/accounts/prod of config server or http://localhost:8080/api/contact-info of accountsMS in boht cases
        we should get the emailid from the repo instead of the encrypted data.
        email:aishwarya@eazybank.com    encrypted: 35a1f2cccec24dc948d4d129704d9ce5f63548c388cc0c99fa91255d22a76cc22af55212d59e94ae89fc826a98bdebca
        at repo "{cipher}35a1f2cccec24dc948d4d129704d9ce5f63548c388cc0c99fa91255d22a76cc22af55212d59e94ae89fc826a98bdebca"
        restarted the configserver. in response only email we are getting